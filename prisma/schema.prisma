// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model User {
  id        String   @id @default(cuid())
  email     String   @unique
  name      String?
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
}

model Opportunity {
  id              String    @id @default(cuid())
  name            String
  value           Float?
  company         String?
  referredBy      String?
  leadSourceType  String?
  contact         String?
  completedAt     DateTime?
  stage           String    @default("00 - Id√©es de contact")
  proposal        String?   @db.Text
  assignee        String?
  closedDate      DateTime?
  openDate        DateTime?
  region          String?
  segment         String?
  proposalSentDate DateTime?
  projectType     String?
  createdAt       DateTime  @default(now())
  updatedAt       DateTime  @updatedAt

  @@index([stage])
  @@index([region])
  @@index([segment])
}

model Contact {
  id                String    @id @default(cuid())
  fullName          String
  firstName         String?
  lastName          String?
  level             Int?
  potentialSale     Boolean   @default(false)
  photoUrl          String?
  linkedinUrl       String?
  position          String?
  company           String?
  email             String?
  phone             String?
  relation          String?
  circles           String?
  employmentField   String?
  lastUpdated       DateTime?
  region            String?
  birthday          String?
  link              String?
  tags              String?
  linkedOpportunities String?
  projects          String?
  language          String?
  createdAt         DateTime  @default(now())
  updatedAt         DateTime  @updatedAt

  @@index([region])
  @@index([employmentField])
  @@index([company])
}
